<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CRUD Cargo.</title>
</head>
<style>
table, th, td {
	border: 1px solid black;
	text-align: center;
}
</style>
<body>

	<button><a th:href="@{/cargo/addForm}">Adicionar</a></button>
	<button><a th:href="@{/cargo/listarCargos}">Listar</a></button>

	<div th:if="${cargo_add != null}">
	<h1>Registrar Cargo.</h1>
	<form action="#" th:action="@{/cargo/add}" th:object="${cargo_add}"
		method="post">
		<fieldset>
			<legend>Insira os valores</legend>
			<p>
				<label for="Funcao">Função</label> <input type="text" name="funcao"
					id="funcao" th:field="*{funcao}" required />
			</p>
			<p>
				<label for="Salario">Salário</label> <input type="number"
					name="salario" id="salario" th:field="*{salario}" required />
			</p>
			<p>
				<button type="submit">Registrar</button>
			</p>

		</fieldset>
	</form>
	<table style="border: none">
			<tr th:if="${respostaAdd != null}">
				<td style="border: none" th:text="${respostaAdd}"></td>
			</tr>
		</table>
	</div>

	<div th:if="${cargo_lista != null}">
		<h2>Buscar Cargo.</h2>
		<form action="/cargo/buscaFuncao" method="post">
			<p>
				<label for="funcao">Função</label> <input type="text" name="funcao"
					id="funcao" required />

				<button type="submit">Buscar</button>
			</p>
		</form>

		<h1>Lista de Cargos.</h1>
		<table>
			<tr>
				<th>Id</th>
				<th>Função</th>
				<th>Salário</th>
			</tr>
			<tr th:each="cargo : ${cargo_lista}" th:if="${cargo.funcao != null}">
				<td th:text="${cargo.id}"></td>
				<td th:text="${cargo.funcao}"></td>
				<td th:text="${cargo.salario}"></td>
				<td>
					<button>
						<a th:href="@{/cargo/editar(id=${cargo.id})}">Editar</a>
					</button>
					<button>
						<a th:href="@{/cargo/deletaPorFuncao(funcao=${cargo.funcao})}">Excluir</a>
					</button>
				</td>
			</tr>
		</table>
	</div>

	<div th:if="${cargo_edit != null}">
	<h1>Atualizar Cargo.</h1>
	<form action="#" th:action="@{/cargo/atualizar}"
			th:object="${cargo_edit}" method="post">
		<fieldset>
			<legend>Insira o valor</legend>
			<p hidden>
					<label for="funcao">Função</label> <input type="text" name="funcao"
						id="funcao" th:value="*{funcao}" required />
				</p>
			<p>
				<label for="Salario">Novo salário</label> <input type="number"
					name="salario" id="salario" th:value="*{salario}" />
			</p>
			<p>
				<button type="submit">Atualizar</button>
			</p>

		</fieldset>
	</form>
	</div>

</body>
</html>